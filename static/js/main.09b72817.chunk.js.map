{"version":3,"sources":["components/Cell.js","lib/index.js","components/Board.js","components/ScreenBoxView.js","components/StatusLineView.js","components/hasWinningCond.js","components/View.js","img/beth.jpg","img/green.jpg","img/morty.jpg","img/Rick-and-Morty-Doaly.jpg","img/rick-and-morty.jpg","img/bad.jpg","components/initialBoard.js","App.js","reportWebVitals.js","index.js"],"names":["Status","isOpen","cell","status","isDone","isFailed","isBlocking","View","onClick","symbol","className","classByStatus","style","background","backgroundSize","height","width","backgroundRepeat","borderRadius","boxShadow","toLowerCase","allEquals","xs","length","head","tail","R","i","board","setStatusAt","setStatusesBy","predFn","getStatusesBy","getSymbolsBy","Cell","BoardView","onClickAt","useEffect","sort","Math","random","map","_","ScreenView","children","ScreenBoxView","Running","Stopped","textAlign","Won","color","Lost","StatusLineView","secondsLeft","setStatus","state","nextSecond","max","useState","startGame","setState","hasWinningCond","hasLosingCond","openSymbols","L","Board","failStep1","setTimeout","failStep2","succeedStep","timer","setInterval","clearInterval","e","openCell","initialBoard","beth","green","morty","Rick","rick","bad","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.09b72817.chunk.js","sourcesContent":["import React from 'react';\n\nexport let Status = {\n  Open: \"Open\",\n  Closed: \"Closed\",\n  Done: \"Done\",\n  Failed: \"Failed\",\n}\n\nexport let isOpen = (cell) => cell.status === Status.Open\n\nexport let isClosed = (cell) => cell.status === Status.Closed\n\nexport let isDone = (cell) => cell.status === Status.Done\n\nexport let isFailed = (cell) => cell.status === Status.Failed\n\nexport let isBlocking = (cell) => isOpen(cell) || isFailed(cell)\n\nexport function View({cell, onClick}) {\n  let {status, symbol} = cell\n  return <div className={`cell ${classByStatus(status)}`} onClick={onClick} >\n    {status === Status.Closed ? \"\"\n      :\n      <div\n        style={{\n          background: `url(${symbol})`,\n          backgroundSize: \"cover\",\n          height: \"250px\",\n          width: \"250px\",\n          backgroundRepeat: \"no-repeat\",\n          borderRadius: \"5px\",\n          boxShadow: \"2px 2px 3px white\",\n        }}>\n      </div>}\n  </div>\n}\n\nexport function classByStatus(status) {\n  return status.toLowerCase()\n}\n","import * as R from \"rambda\"\n\nexport function allEquals(xs) {\n  if (xs.length < 2) {\n    return true\n  }\n  let [head, ...tail] = xs\n  return R.all(R.equals(head), tail)\n}\n","import * as R from \"rambda\"\nimport React, { useEffect } from \"react\"\nimport * as L from \"../lib\"\nimport * as Cell from \"./Cell\"\n\nexport let getStatusAt = R.curry((i, board) => {\n  return R.view(R.lensPath(`${i}.status`), board)\n})\n\nexport let setStatusAt = R.curry((i, status, board) => {\n  return R.set(R.lensPath(`${i}.status`), status, board)\n})\n\nexport let setStatusesBy = R.curry((predFn, status, board) => {\n  return R.map(cell => predFn(cell) ? {...cell, status} : cell, board)\n})\n\nexport let getStatusesBy = R.curry((predFn, board) => {\n  return R.chain(cell => predFn(cell) ? [cell.status] : [], board)\n})\n\nexport let getSymbolsBy = R.curry((predFn, board) => {\n  return R.chain(cell => predFn(cell) ? [cell.symbol] : [], board)\n})\n\nexport let canOpenAt = R.curry((i, board) => {\n  return i < board.length\n    && Cell.isClosed(board[i])\n    && getStatusesBy(Cell.isBlocking, board).length < 2\n})\n\nexport let areOpensEqual = (board) => {\n  let openSymbols = getSymbolsBy(Cell.isOpen, board)\n  return openSymbols.length >= 2 && L.allEquals(openSymbols)\n}\n\nexport let areOpensDifferent = (board) => {\n  let openSymbols = getSymbolsBy(Cell.isOpen, board)\n  return openSymbols.length >= 2 && !L.allEquals(openSymbols)\n}\n\nexport function BoardView({board, onClickAt}) {\n  useEffect(() => {\n    board.sort(() => Math.random() - 0.5)\n  }, []);\n\n  return <div className=\"board\">\n    {board\n      .map((cell, i) =>\n      <Cell.View key={i} cell={cell} onClick={_ => onClickAt(i)}/>\n    )}\n  </div>\n}\n\nexport function ScreenView({className, children}) {\n  return <div className={`screen ${className}`}>\n    {children}\n  </div>\n}\n","import React from \"react\";\nimport * as Board from \"./Board\";\nimport { Status } from \"../App\";\n\nexport function ScreenBoxView({ status, board, onClickAt }) {\n  // eslint-disable-next-line default-case\n  switch (status) {\n    case Status.Running:\n      return <Board.BoardView board={board} onClickAt={onClickAt} />;\n\n    case Status.Stopped:\n      return <Board.ScreenView className=\"gray\">\n        <div style={{ textAlign: \"center\" }}>\n          <h1>Memory Game</h1>\n          <p>Click anywhere to start!</p>\n        </div>\n      </Board.ScreenView>;\n\n    case Status.Won:\n      return <Board.ScreenView className=\"green\">\n        <div style={{ textAlign: \"center\", color: \"green\"}}>\n          <h1 className=\"victory-title\">Victory!</h1>\n          <p className=\"victory-text\">Click anywhere to try again!</p>\n        </div>\n      </Board.ScreenView>;\n\n    case Status.Lost:\n      return <Board.ScreenView className=\"red\">\n        <div style={{ textAlign: \"center\" }}>\n          <h1>Defeat!</h1>\n          <p className=\"text\">Click anywhere to try again!</p>\n        </div>\n      </Board.ScreenView>;\n  }\n}\n","import React from \"react\";\nimport { Status } from \"../App\";\n\n\n\nexport function StatusLineView({ status, secondsLeft }) {\n  return <div className=\"status-line\">\n    <div className=\"timer\">\n      {status === Status.Running && `Seconds left: ${secondsLeft}`}\n    </div>\n  </div>;\n}\n","import * as R from \"rambda\";\nimport * as Cell from \"./Cell\";\n\n\n\nexport let hasWinningCond = (state) => (\n  R.filter(Cell.isDone, state.board).length === state.board.length\n);\n\nexport let hasLosingCond = (state) => !state.secondsLeft;\n\nexport let setStatus = R.curry((status, state) => ({ ...state, status }));\n\nexport let nextSecond = (state) => ({\n  ...state, secondsLeft: Math.max(state.secondsLeft - 1, 0),\n});\n","import React, { useEffect, useState } from \"react\";\nimport * as Board from \"./Board\";\nimport { startGame, Status, openCell, succeedStep, failStep1, failStep2 } from \"../App\";\nimport { ScreenBoxView } from \"./ScreenBoxView\";\nimport { StatusLineView } from \"./StatusLineView\";\nimport { hasWinningCond, setStatus, hasLosingCond, nextSecond } from \"./hasWinningCond\";\n\n\nexport function View() {\n  let [state, setState] = useState({\n    ...startGame(),\n    status: Status.Stopped,\n  });\n\n  let { board, status, secondsLeft } = state;\n\n  function handleStartingClick() {\n    if (status !== Status.Running) {\n      setState(startGame);\n    }\n  }\n\n  function handleRunningClick(e) {\n    if (status === Status.Running) {\n      setState(openCell(e));\n    }\n  }\n\n  useEffect(_ => {\n    if (status === Status.Running) {\n      if (hasWinningCond(state)) {\n        return setState(setStatus(Status.Won));\n      }\n      else if (hasLosingCond(state)) {\n        return setState(setStatus(Status.Lost));\n      }\n    }\n  }, [state]);\n\n  useEffect(_ => {\n    if (Board.areOpensEqual(board)) {\n      setState(succeedStep);\n    } else if (Board.areOpensDifferent(board)) {\n      setState(failStep1);\n      setTimeout(_ => {\n        setState(failStep2);\n      }, 500);\n    }\n  }, [board]);\n\n  useEffect(_ => {\n    let timer = null;\n    if (status === Status.Running && !timer) {\n      timer = setInterval(() => {\n        setState(nextSecond);\n      }, 1000);\n    }\n    return () => {\n      clearInterval(timer);\n    };\n  }, [status]);\n\n  return <div onClick={handleStartingClick}>\n    <StatusLineView status={status} secondsLeft={secondsLeft} />\n    <ScreenBoxView status={status} board={board} onClickAt={handleRunningClick} />\n  </div>;\n}\n","export default __webpack_public_path__ + \"static/media/beth.29a4c2a2.jpg\";","export default __webpack_public_path__ + \"static/media/green.e05003c6.jpg\";","export default __webpack_public_path__ + \"static/media/morty.26c22d26.jpg\";","export default __webpack_public_path__ + \"static/media/Rick-and-Morty-Doaly.0716bb12.jpg\";","export default __webpack_public_path__ + \"static/media/rick-and-morty.c57b1dc2.jpg\";","export default __webpack_public_path__ + \"static/media/bad.5ba423ac.jpg\";","import * as Cell from \"./Cell\";\nimport beth from \"../img/beth.jpg\";\nimport green from \"../img/green.jpg\";\nimport morty from \"../img/morty.jpg\";\nimport Rick from \"../img/Rick-and-Morty-Doaly.jpg\";\nimport rick from \"../img/rick-and-morty.jpg\";\nimport bad from \"../img/bad.jpg\";\n\nexport let initialBoard = [\n  { symbol: beth, status: Cell.Status.Closed },\n  { symbol: green, status: Cell.Status.Closed },\n  { symbol: morty, status: Cell.Status.Closed },\n  { symbol: Rick, status: Cell.Status.Closed },\n  { symbol: rick, status: Cell.Status.Closed },\n  { symbol: bad, status: Cell.Status.Closed },\n  { symbol: beth, status: Cell.Status.Closed },\n  { symbol: green, status: Cell.Status.Closed },\n  { symbol: morty, status: Cell.Status.Closed },\n  { symbol: Rick, status: Cell.Status.Closed },\n  { symbol: rick, status: Cell.Status.Closed },\n  { symbol: bad, status: Cell.Status.Closed },\n\n];\n","import * as R from \"rambda\"\nimport React from \"react\"\nimport * as Cell from \"./components/Cell\"\nimport * as Board from \"./components/Board\"\nimport { View } from \"./components/View\";\nimport { initialBoard } from \"./components/initialBoard\";\n\nimport './styles/reset.css';\nimport './styles/index.css';\n\nfunction App() {\n  return (\n    <>\n  <View />\n   </>\n  )\n}\n\nexport let Status = {\n  Stopped: \"Stopped\",\n  Running: \"Running\",\n  Won: \"Won\",\n  Lost: \"Lost\",\n}\n\nexport let startGame = (state) => ({\n  board: initialBoard,\n  secondsLeft: 60,\n  status: Status.Running,\n})\n\nexport let openCell = R.curry((i, state) => ({\n  ...state,\n  board: Board.setStatusAt(i, Cell.Status.Open, state.board),\n}))\n\nexport let succeedStep = (state) => ({\n  ...state,\n  board: Board.setStatusesBy(Cell.isOpen, Cell.Status.Done, state.board)\n})\n\nexport let failStep1 = (state) => ({\n  ...state,\n  board: Board.setStatusesBy(Cell.isOpen, Cell.Status.Failed, state.board),\n})\n\nexport let failStep2 = (state) => ({\n  ...state,\n  board: Board.setStatusesBy(Cell.isFailed, Cell.Status.Closed, state.board),\n})\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}